{{ postUrl = isNaN(id) ? "/blog/new" : "/blog/save/" + id }}

<h1>Blog</h1>
<p>{{= title }}</p>

{{ if(errors.hasErrors) { }}
<div class="alert-box alert">
  Oops! Couldn't save this blog post. Fix the error(s) indicated below and try again.
  <a href="" class="close">&times;</a>
</div>
{{ } }}

<form name="input", action="{{= postUrl }}", method="post">
<fieldset>
  <p>
  <label>Title</label> 
  <input type="text" name="title" value="{{= title }}" placeholder="Blog title" />
  {{ if(errors.title) { }}
  <small class="error">Enter a title for the blog post</small>
  {{ } }}
  </p>

  <p>
  <label>Content (raw HTML)<label> 
  <textarea name="content", rows="20", cols="60" placeholder="Enter blog post content">{{- content }}</textarea>
  {{ if(errors.content) { }}
  <small class="error">Enter the content of the blog post</small>
  {{ } }}
  </p>

  <div class="row">
    <div class="two columns">
      <label>Posted on</label>
      <input type="date" name="postedOn" value="{{= postedOn.toDateString() }}" placeholder="mm/dd/yyyy" />
    </div>
    <div class="two columns">
      <label>Posted at</label>
      <input type="time", name="postedAt", value="{{= postedOn.toLocaleTimeString() }}" placeholder="hh:mm"/>
    </div>
    <div class="two columns">
    </div>
  </div>
  <div class="row">
    <div class="four columns">
      {{ if(errors.postedOn) { }}
      <small class="error">Enter a valid date and time</small>
      {{ } }}
    </div>
  </div>

  <p>
    <a href="/blog/{{= url }}" class="alert button">Cancel</a>
    <input type="submit" class="button" value="Save" />
  </p>
  
  <p>ID {{= id }} <p/>

</fieldset>
</form>